# Example demonstrating the new minimum_duration parameter
# This parameter forces the orchestrator to iteratively prompt Claude
# about the same task until the minimum duration is reached

version: "1.0"
created_at: "2025-01-28T00:00:00Z"

tasks:
  # Task without minimum_duration - executes once
  - id: "simple-task"
    type: "feature"
    priority: 5
    title: "Simple Task Without Minimum Duration"
    requirements: |
      This is a simple task that will execute once and complete.
      No minimum duration is specified, so it follows the traditional behavior.
    
    acceptance_criteria:
      - "Task is completed"
      - "Code follows conventions"
    
    # No minimum_duration specified - task executes once
    dependencies: []
    tags: ["example"]
    enabled: true

  # Task with minimum_duration - iterative execution
  - id: "iterative-task"
    type: "feature"
    priority: 7
    title: "Task With Minimum Duration (Iterative)"
    requirements: |
      This task has a minimum_duration of 30 minutes.
      The orchestrator will continue prompting Claude to work on this task
      in iterations until at least 30 minutes have elapsed.
      
      Each iteration will:
      - Build upon previous work
      - Improve implementation
      - Add features or enhancements
      - Refine code quality
      - Enhance documentation
    
    acceptance_criteria:
      - "Feature is implemented"
      - "Code quality is high"
      - "Tests are comprehensive"
      - "Documentation is complete"
    
    # This forces iterative prompting for at least 30 minutes
    minimum_duration: 30  # minutes
    dependencies: []
    tags: ["example", "iterative"]
    enabled: true

  # Another example with longer minimum duration
  - id: "complex-refactoring"
    type: "refactor"
    priority: 6
    title: "Complex Refactoring With Extended Duration"
    requirements: |
      This is a complex refactoring task that benefits from
      multiple iterations of improvement.
      
      The minimum_duration of 60 minutes ensures Claude will:
      - Thoroughly analyze the codebase
      - Implement refactoring in phases
      - Continuously improve the implementation
      - Add comprehensive tests
      - Document changes thoroughly
    
    acceptance_criteria:
      - "Code is properly refactored"
      - "All tests pass"
      - "Performance is maintained or improved"
      - "Documentation reflects changes"
    
    # This forces iterative prompting for at least 60 minutes
    minimum_duration: 60  # minutes
    dependencies: []
    tags: ["example", "refactoring", "iterative"]
    enabled: true